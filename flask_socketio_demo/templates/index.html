<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.0/socket.io.js" integrity="sha512-+l9L4lMTFNy3dEglQpprf7jQBhQsQ3/WvOnjaN/+/L4i0jOstgScV0q2TjfvRF4V+ZePMDuZYIQtg5T4MKr+MQ==" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
    <h2>demo of SocketIO</h2>
    <div id='t'></div>
    <script>
        // 當網頁加載完成後，創建一個socket物件，並連接到本地主機namespace=dcenter
        // 並監聽遠端回傳的dcenter事件, 監聽到內容則將內容的data字段加到html當中
        $(document).ready(function(){
            namespace = '/dcenter';
            var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port + namespace);
            // console.log(location.protocol + '//' + document.domain + ':' + location.port + namespace) // http://127.0.0.1:5000/dcenter
            socket.on('connect', function(){
                socket.emit('login', {'token': '123'})
            })

            // socket.on('login', function(res){ // 這裡就是監聽來自後端的事件
                
            })
            // socket.on('dcenter', function(res){
            //     var t = res.data;
            //     if (t == 'test message') {
            //         $('#t').append(t).append('<br>');
            //     }else if (t == 'del last'){
            //         $('#t').empty()
            //     }
            // })
        // })
        
    </script>
</body>
</html>